<!DOCTYPE html>
<html>
<head>
	<title>Canvas</title>
	<link rel="stylesheet" href="styles/loader.css" type="text/css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="styles/style.css">
	<link rel="stylesheet" type="text/css" href="styles/icons.css">
</head>
<body>
	<div id="loaderHolder">
		<h1 id="loaderStatus">100</h1>
	</div>
	<div id="canvas_holder">
		<div class="bg"></div>
	</div>
	<div id='toolbar'>
		<div id="brushes"></div>
		<div id='colors'></div>
		<div id='btns'></div>
	</div>

	<div id="panels"></div>

	<script src="ModuleLoader.js"></script>
	<script>
		ModuleLoader.start();
		let timeoutTimer = null;
		let domTimer = document.getElementById("loaderStatus");
		let loaderHolder = document.getElementById("loaderHolder");

		let showCounter = function() {
			if(timeoutTimer)
				window.clearTimeout(timeoutTimer);

			domTimer.innerHTML = ModuleLoader.showProgress();
			if(!ModuleLoader.completed())
				timeoutTimer = window.setTimeout(showCounter, 100);
			else {
				loaderHolder.remove();
			}
		};

		showCounter();
	</script>
</body>
</html>